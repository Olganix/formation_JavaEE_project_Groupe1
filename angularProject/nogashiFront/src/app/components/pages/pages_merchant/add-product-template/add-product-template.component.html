
<section class="section-fiche-produit">
  <div class="container">
    <div class="row col-12">





<form [formGroup]="form1" (submit)="onSubmit($event)" >

<div class="super-bloc-fiche-produit" >
  <input formControlName="id" name="id" class="hidden" type="text">

  <h2 class="titre-modifications-produit col-12" id="il-faut-aller-ici-produits"><i class="far fa-edit"></i> / MODIFICATIONS FICHE PRODUIT</h2>
  <div class="bloc-titre col-12">
    <div>
      <label class="label-produit"><i class="fas fa-asterisk"></i>  Nom Produit </label><i class="fas fa-bookmark"></i>
      <h4 class="titre-produit">- <input formControlName="name" name="name" class="name" type="text" placeholder="Nom" required> - </h4>
      <span class="text-danger" *ngIf="controlName(); let message">{{message}}</span>
    </div>
  </div>

  <div class="bloc-affichage-produit col-12">
    <div class="img-affichage col-6 no-gutters">
      <article>
        <figure class="work-img no-gutters">
          <img class="img col-12" src="/assets/img/produit/{{((this.form1.value.image !== null) && (this.form1.value.image.trim() !== '') ) ? this.form1.value.image :  defaultImage}}" alt="image du produit">
          <input class="input-chargement" formControlName="image" name="image" type="file" placeholder="Image du produit" > <!-- Todo upload -->
          <figcaption>
            <div class="fond-filtre" ></div>
            <div class="note">
              <i class="fas fa-star"></i> <!-- todo -->
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
            </div>
          </figcaption>
        </figure>
      </article>
    </div>
    <div class="informations-affichage col-6">


        <div class="bloc-prix-affichage col-12">
          <div class="affichage col-12">
            <div class="grand-bloc-input-3">
              <div class="bloc-input3">
                <div class="font-input3-bis"><i class="fas fa-asterisk"></i><input class="input3" formControlName="salePrice" name="salePrice" type="number" placeholder="Nouveau Prix" required></div>
                <span class="text-danger-input3" *ngIf="controlSalePrice(); let message">{{message}}</span>
              </div>
              <div class="bloc-input3">
                <div class="font-input3"><i class="fas fa-asterisk"></i><input class="input3"  formControlName="price" name="price" type="number" placeholder="Prix Barré" required></div>
                <span class="text-danger-input3" *ngIf="controlPrice(); let message">{{message}}</span>
              </div>
            </div>
         </div>
        </div>

        <div class="commerce-affichage col-12">
          <div class="Lieu-affichage col-8">
            <label for="liste-mois" class="label-formulaire"> Votre produit est disponible ici :</label>
            <select id="liste-mois" class="liste-mois col-12">
              <option>Daily Juicery (lille)</option>  <!-- todo -->
              <option>Daily Juicery (lille)</option>
              <option>Daily Juicery (lille)</option>
              <option>Daily Juicery (lille)</option>
              <option>Daily Juicery (lille)</option>
              <option>Daily Juicery (lille)</option>
            </select>
          </div>

          <!-- todo
          <div class="bloc-quantite-produit col-6" *ngIf="productTemplate.schedulerWeekForSaleAndUnsold && productTemplate.schedulerWeekForSaleAndUnsold.days && (productTemplate.schedulerWeekForSaleAndUnsold.days.length==2) && productTemplate.schedulerWeekForSaleAndUnsold.days[0].hoursRanges && (productTemplate.schedulerWeekForSaleAndUnsold.days[0].hoursRanges.length>=1) ">
            <p class="offre-disponible"><i class="fas fa-asterisk"></i> Offre disponible jusqu'à {{productTemplate.schedulerWeekForSaleAndUnsold.days[0].hoursRanges[0].endTime}}.</p>
          </div>
          -->


        </div>
    </div>
</div>

  <div class="container">
    <div class="row">
      <h1 class="titre-choix-horaires col-12">// CHOIX DES HORAIRES</h1>
      <div class="grand-bloc-horaires">
          <div class="bloc-bloc-horaires col-6">
            <app-scheduler-week-txt [scheduler]="schedulerWeekForSaleAndUnsold.group[0]" [schedulerType]="SchedulerWeekType.PRODUCT_PROMOTION" [editMode]="true" (schedulerChange)="this.schedulerWeekForSaleAndUnsold.group[0] = $event" ></app-scheduler-week-txt>
          </div>
          <div class="bloc-bloc-horaires col-6">
            <app-scheduler-week-txt [scheduler]="schedulerWeekForSaleAndUnsold.group[1]" [schedulerType]="SchedulerWeekType.PRODUCT_UNSOLD" [editMode]="true" (schedulerChange)="this.schedulerWeekForSaleAndUnsold.group[1] = $event" ></app-scheduler-week-txt>
            <span class="text-danger" *ngIf="schedulerWeekForSaleAndUnsold_onError">Des horaires de mise en promotion et invendu du produit est obligatoire</span>
          </div>
        </div>
     </div>
  </div>

  <div class="container">
    <div class="row">
      <div class="bloc-composition-produit col-12">
        <div class="composition-produit">
          <h4 class="titre-detail">// DETAILS DU PRODUIT</h4>
          <h5><i class="fas fa-caret-right"></i> Composition</h5>
          <p class="composition-affichage">
            <textarea class="textarea col-12" formControlName="description" name="description" type="text" placeholder="Description" required></textarea>
            <span class="text-danger" *ngIf="controlDescription(); let message">{{message}}</span>
          </p>
          <hr>
        </div>
        <div class="composition-produit">
          <h5><i class="fas fa-caret-right"></i> Emballage</h5>
          <p class="composition-affichage"><input formControlName="isPackaged" name="isPackaged" type="checkbox" ></p>
          <hr>
        </div>
        <div class="composition-produit col-12">
          <h5><i class="fas fa-caret-right"></i> Code Produit </h5>
          <p class="composition-affichage"><input class="input" formControlName="externalCode" name="externalCode" type="text" placeholder="Code Produit" ></p>
          <hr>
        </div>
        <div class="composition-produit">
          <h5><i class="fas fa-caret-right"></i> Promotion et Invendu Automatique </h5>
          <p class="composition-affichage"><input formControlName="timeControlStatus" name="timeControlStatus" type="checkbox" ></p>
          <hr>
        </div>

        <div class="composition-produit">
          <h5><i class="fas fa-caret-right"></i> Durée maximale dans le panier </h5>
          <div class="composition-affichage">
            <input class="input-duree" formControlName="maxDurationCart" name="maxDurationCart" type="number" placeholder="Durée panier" required>
            <p class="text-danger-duree" *ngIf="controlMaxDurationCart(); let message">{{message}}</p>
          </div>
          <hr>
        </div>

        <div class="composition-produit col-12">
          <h5><i class="fas fa-caret-right"></i> Régime Alimentaire compatible</h5>
          <p class="composition-affichage"> Sportif - </p>
          <hr>
        </div>
        <div class="composition-produit col-12">
          <h5><i class="fas fa-caret-right"></i> Allergènes</h5>
          <p class="composition-affichage"> Gluten - Fruit à coque</p>
          <hr>
        </div>

        <div class="bloc-bouton col-12" >
          <button id ="bt_signin_submit" class="bouton-sauvegarder" type="submit" [disabled]="form1.invalid" >Sauvegarder</button>
          <p  class="avertissement-inscription" *ngIf="form1.invalid" >* Veuillez remplir tous les champs pour valider la fiche produit.</p>
        </div>
      </div>

    </div>
   </div>
</div>

</form >




    </div>
  </div>
</section>
